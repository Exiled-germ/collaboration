# PhaseFlow v2.1 - 테스트 가이드

## 🧪 새로운 기능 테스트

### 1. PDF 파싱 테스트

#### 준비물
- PDF 파일 (텍스트가 포함된 문서)

#### 테스트 절차
1. Dashboard로 이동
2. "Artifact Upload" 패널에서 Phase 선택
3. "Upload File" 버튼 클릭
4. PDF 파일 선택
5. 업로드 후 자동 파싱 확인

#### 예상 결과
- PDF 내용이 텍스트로 추출됨
- 페이지별로 구분되어 표시
- 파일 메타데이터 (크기, 페이지 수) 표시

#### 문제 해결
- **에러 발생**: 브라우저 콘솔에서 에러 메시지 확인
- **텍스트 없음**: 이미지 기반 PDF는 OCR 필요 (별도 처리)
- **느린 처리**: 큰 PDF는 시간이 걸릴 수 있음

---

### 2. 이미지 OCR 테스트

#### 준비물
- 텍스트가 포함된 이미지 (스크린샷, 사진 등)
- 한글 또는 영어 텍스트

#### 테스트 절차
1. Dashboard로 이동
2. "Artifact Upload" 패널에서 Phase 선택
3. "Upload File" 버튼 클릭
4. 이미지 파일 선택 (JPG, PNG 등)
5. OCR 진행률 확인
6. 추출된 텍스트 확인

#### 예상 결과
- 이미지에서 텍스트 추출
- 신뢰도 점수 표시
- 한글/영어 모두 인식

#### 문제 해결
- **낮은 정확도**: 이미지 품질 개선 필요
- **느린 처리**: Tesseract.js 초기 로딩 시간 필요
- **인식 실패**: 손글씨나 특수 폰트는 인식 어려움

---

### 3. Notion 통합 테스트

#### 준비물
- Notion 계정
- Notion Integration (API 키)
- 테스트용 Notion 페이지 또는 데이터베이스

#### 사전 설정
1. [Notion Integrations](https://www.notion.so/my-integrations) 방문
2. "New integration" 클릭
3. Integration 이름 입력 (예: "PhaseFlow Test")
4. Workspace 선택
5. "Submit" 클릭
6. "Internal Integration Token" 복사 (secret_로 시작)

#### Notion 페이지 연결
1. 가져올 Notion 페이지 열기
2. 우측 상단 "..." 메뉴 클릭
3. "Connections" → "Connect to" 선택
4. 생성한 Integration 선택

#### 테스트 절차 - 페이지 가져오기
1. Dashboard의 "Notion Import" 패널로 이동
2. API Key 입력 (secret_...)
3. "페이지" 선택
4. Notion 페이지 URL 복사하여 붙여넣기
5. "Notion에서 가져오기" 클릭
6. 성공 메시지 확인

#### 테스트 절차 - 데이터베이스 가져오기
1. "데이터베이스" 선택
2. Notion 데이터베이스 URL 입력
3. "Notion에서 가져오기" 클릭
4. 여러 페이지 가져오기 확인

#### 예상 결과
- 페이지 제목과 내용 추출
- 다양한 블록 타입 지원 (헤딩, 리스트, 코드 등)
- 데이터베이스의 모든 페이지 가져오기

#### 문제 해결
- **인증 실패**: Integration이 페이지에 연결되었는지 확인
- **페이지 없음**: URL이 올바른지 확인
- **권한 에러**: Integration에 읽기 권한이 있는지 확인

---

### 4. 이메일 발송 테스트

#### 준비물
- Resend 계정 (https://resend.com)
- Resend API 키

#### 사전 설정
1. [Resend](https://resend.com) 가입
2. API Keys 메뉴에서 새 키 생성
3. `.env` 파일에 `VITE_RESEND_API_KEY` 추가
4. 개발 서버 재시작

#### 테스트 절차 - 개발 모드 (API 키 없음)
1. Artifact 업로드
2. AI가 초대 생성
3. 콘솔에서 이메일 로그 확인
4. "[DEV MODE]" 표시 확인

#### 테스트 절차 - 프로덕션 모드 (API 키 있음)
1. Resend API 키 설정
2. Artifact 업로드
3. AI가 초대 생성
4. 실제 이메일 발송 확인
5. 수신자 이메일 확인

#### 예상 결과
- 개발 모드: 콘솔에 이메일 내용 로그
- 프로덕션 모드: 실제 이메일 발송
- HTML 템플릿 적용
- 개인화된 메시지

#### 문제 해결
- **발송 실패**: API 키 확인
- **스팸 처리**: Resend 도메인 인증 필요
- **이메일 없음**: 팀원 프로필에 이메일 입력 확인

---

### 5. Activity Timeline 테스트

#### 테스트 절차
1. Dashboard의 "Activity Timeline" 패널 확인
2. Phase 시작/완료
3. Artifact 업로드
4. 실시간 업데이트 확인

#### 예상 결과
- 모든 액션이 타임라인에 기록
- 실시간으로 업데이트
- 시간 표시 (예: "2분 전")
- 활동 타입별 아이콘 및 색상

#### 문제 해결
- **업데이트 안됨**: Supabase Realtime 구독 확인
- **느린 업데이트**: 네트워크 연결 확인
- **중복 항목**: 페이지 새로고침

---

## 🔍 통합 테스트 시나리오

### 시나리오 1: 완전한 프로젝트 플로우

1. **온보딩**
   - 회사 정보 입력
   - 프로젝트 설명 작성
   - 팀원 5명 프로필 입력 (Loves/Hates/Tools/Email/Career)

2. **프로젝트 생성**
   - AI가 Phase 생성
   - 팀원 자동 배치 확인
   - Dashboard 확인

3. **Phase 1 시작**
   - "Start Phase" 버튼 클릭
   - Activity Timeline에 기록 확인
   - 상태 변경 확인

4. **작업물 업로드**
   - PDF 문서 업로드
   - AI 분석 대기
   - 협업자 추천 확인

5. **초대 발송**
   - AI 생성 초대 확인
   - 이메일 발송 (또는 로그 확인)
   - Activity Timeline 업데이트

6. **Notion 통합**
   - Notion 페이지 가져오기
   - 내용 확인
   - 프로젝트에 반영

7. **Phase 완료**
   - "Complete Phase" 버튼 클릭
   - 완료 시간 기록
   - 다음 Phase로 이동

### 시나리오 2: 파일 처리 테스트

1. **텍스트 파일**
   - .txt 또는 .md 파일 업로드
   - 즉시 내용 표시 확인

2. **PDF 파일**
   - 여러 페이지 PDF 업로드
   - 페이지별 텍스트 추출 확인
   - 처리 시간 측정

3. **이미지 파일**
   - 한글 텍스트 이미지 업로드
   - OCR 진행률 확인
   - 추출 정확도 평가

4. **혼합 업로드**
   - 여러 타입 파일 순차 업로드
   - 각각 올바르게 처리되는지 확인

### 시나리오 3: 실시간 협업

1. **두 개의 브라우저 탭 열기**
   - 같은 프로젝트 Dashboard 열기

2. **탭 1에서 액션**
   - Phase 시작
   - Artifact 업로드

3. **탭 2에서 확인**
   - Activity Timeline 실시간 업데이트
   - Phase 상태 동기화

---

## 📊 성능 테스트

### PDF 파싱 성능
- **작은 PDF (< 1MB, < 10 페이지)**: 1-3초
- **중간 PDF (1-5MB, 10-50 페이지)**: 3-10초
- **큰 PDF (> 5MB, > 50 페이지)**: 10-30초

### OCR 성능
- **작은 이미지 (< 500KB)**: 2-5초
- **중간 이미지 (500KB-2MB)**: 5-15초
- **큰 이미지 (> 2MB)**: 15-30초

### Notion API
- **단일 페이지**: 1-2초
- **데이터베이스 (10 페이지)**: 5-10초
- **데이터베이스 (50 페이지)**: 20-40초

---

## 🐛 알려진 이슈

### PDF 파싱
- 이미지 기반 PDF는 텍스트 추출 불가 (OCR 필요)
- 복잡한 레이아웃은 텍스트 순서가 뒤섞일 수 있음
- 암호화된 PDF는 지원 안됨

### OCR
- 손글씨 인식 정확도 낮음
- 특수 폰트나 디자인 텍스트 인식 어려움
- 배경이 복잡한 이미지는 정확도 저하

### Notion API
- Rate limit: 3 requests/second
- 큰 데이터베이스는 시간 소요
- 일부 블록 타입 미지원 (embed, file 등)

### 이메일
- Resend 무료 플랜: 100 emails/day
- 도메인 인증 없으면 스팸 처리 가능
- 개발 모드에서는 실제 발송 안됨

---

## ✅ 체크리스트

### 기본 기능
- [ ] 온보딩 3단계 완료
- [ ] 프로젝트 생성 및 Phase 생성
- [ ] Phase 상태 변경 (Start/Complete)
- [ ] Artifact 업로드 (텍스트)
- [ ] AI 초대 생성
- [ ] Dashboard 표시

### 고급 기능 (v2.1)
- [ ] PDF 파일 업로드 및 파싱
- [ ] 이미지 업로드 및 OCR
- [ ] Notion 페이지 가져오기
- [ ] Notion 데이터베이스 가져오기
- [ ] 이메일 발송 (개발 모드)
- [ ] 이메일 발송 (프로덕션 모드)
- [ ] Activity Timeline 실시간 업데이트
- [ ] 실시간 협업 테스트

### 성능
- [ ] PDF 파싱 속도 측정
- [ ] OCR 처리 속도 측정
- [ ] Notion API 응답 시간 측정
- [ ] 페이지 로드 시간 < 3초
- [ ] 빌드 성공

### 보안
- [ ] RLS 정책 작동 확인
- [ ] API 키 환경 변수 보호
- [ ] 사용자 데이터 격리
- [ ] 파일 업로드 검증

---

## 📝 테스트 리포트 템플릿

```markdown
## 테스트 리포트

**날짜**: YYYY-MM-DD
**테스터**: [이름]
**버전**: v2.1.0

### 테스트 환경
- OS: 
- 브라우저: 
- 네트워크: 

### 테스트 결과

#### PDF 파싱
- [ ] 성공
- [ ] 실패
- 비고: 

#### OCR
- [ ] 성공
- [ ] 실패
- 비고: 

#### Notion 통합
- [ ] 성공
- [ ] 실패
- 비고: 

#### 이메일 발송
- [ ] 성공
- [ ] 실패
- 비고: 

#### Activity Timeline
- [ ] 성공
- [ ] 실패
- 비고: 

### 발견된 버그
1. 
2. 
3. 

### 개선 제안
1. 
2. 
3. 

### 전체 평가
- 안정성: ⭐⭐⭐⭐⭐
- 성능: ⭐⭐⭐⭐⭐
- 사용성: ⭐⭐⭐⭐⭐
```

---

## 🆘 문제 해결

### 일반적인 문제

**Q: PDF 파싱이 너무 느려요**
A: 큰 PDF는 시간이 걸립니다. 파일 크기를 줄이거나 페이지 수를 제한하세요.

**Q: OCR 정확도가 낮아요**
A: 이미지 품질을 개선하고, 배경을 단순하게 하세요. 손글씨는 인식이 어렵습니다.

**Q: Notion 가져오기가 실패해요**
A: Integration이 페이지에 연결되었는지, API 키가 올바른지 확인하세요.

**Q: 이메일이 발송되지 않아요**
A: Resend API 키가 설정되었는지, 팀원 이메일이 입력되었는지 확인하세요.

**Q: Activity Timeline이 업데이트되지 않아요**
A: Supabase Realtime이 활성화되었는지, 네트워크 연결을 확인하세요.

---

**Happy Testing! 🎉**
